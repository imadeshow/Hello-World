<!DOCTYPE html>
<html ng-app="myApp">
<head>
<meta charset="UTF-8" />
<title>AngularJS</title>
<link rel="stylesheet" href="../bower_components/angular-ui-select/dist/select.css" />
<link rel="stylesheet" href="../bower_components/select2/select2.css" />
<link rel="stylesheet" href="css/selectbox.css" />
<script src="../bower_components/angular/angular.min.js"></script>
<script src="../bower_components/angular-sanitize/angular-sanitize.js"></script><script src="../bower_components/angular-ui-select/dist/select.js"></script>
<script src="scripts/selectbox.js"></script>
</head>
<body ng-controller="MyController">
<form>
  <label for="book">書籍：</label>
  <ui-select id="book" ng-model="book.selected" multiple
    close-on-select="false" theme="select2"
    style="width: 400px;" ng-change="onchange()">
    <ui-select-match placeholder="書名を入力してください">
      {{$item.title}}</ui-select-match>
    <ui-select-choices group-by="'publish'"
      repeat="book in books | filter: { title: $select.search }">
      <img ng-src="http://www.wings.msn.to/books/{{book.isbn}}/{{book.isbn}}_logo.jpg"
        style="height: 30px; width: 50px" />
      <div ng-bind-html="book.title | highlight: $select.search"></div>
      <small>
        出版社：{{book.publish}}／価格：{{book.price | number}}円
      </small>
    </ui-select-choices>
  </ui-select>
  <hr />
  <div>{{book.selected | json}}</div>
</form>
</body>
</html>
